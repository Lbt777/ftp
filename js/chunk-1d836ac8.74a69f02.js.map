{"version":3,"sources":["webpack:///./node_modules/_promise@8.1.0@promise/lib/synchronous.js","webpack:///./node_modules/_promise@8.1.0@promise/lib/node-extensions.js","webpack:///./node_modules/_promise@8.1.0@promise/lib/finally.js","webpack:///./node_modules/_tp-js-sdk@3.7.1@tp-js-sdk/src/tp.js","webpack:///./node_modules/_promise@8.1.0@promise/lib/es6-extensions.js","webpack:///./node_modules/_asap@2.0.6@asap/browser-asap.js","webpack:///./node_modules/_promise@8.1.0@promise/lib/done.js","webpack:///./node_modules/_asap@2.0.6@asap/browser-raw.js","webpack:///./node_modules/_promise@8.1.0@promise/lib/index.js","webpack:///./node_modules/_promise@8.1.0@promise/index.js","webpack:///./node_modules/_tp-js-sdk@3.7.1@tp-js-sdk/index.js","webpack:///./node_modules/_promise@8.1.0@promise/lib/core.js"],"names":["Promise","module","exports","enableSynchronous","prototype","isPending","this","getState","isFulfilled","isRejected","getValue","_V","_W","Error","getReason","disableSynchronous","undefined","asap","denodeify","fn","argumentCount","Infinity","denodeifyWithCount","denodeifyWithoutCount","callbackFn","args","i","push","body","join","concat","Function","fnLength","Math","max","length","map","_","index","slice","nodeify","Array","call","arguments","callback","pop","ctx","apply","ex","resolve","reject","then","value","err","finally","f","Buffer","TYPE_MAP","eth","jingtum","moac","eos","enu","bos","iost","cosmos","binance","tron","trx","btc","bsc","dot","kusama","heco","okexchain","oktest","matic","polygon","hsc","oec","subgame","klaytn","BLOCKCHAIN_ID_MAP","_getTypeByStr","typeStr","reTrim","replace","toLowerCase","_getCallbackName","ramdom","parseInt","random","Date","getTime","_sendTpRequest","methodName","params","window","TPJSBrigeClient","callMessage","webkit","messageHandlers","postMessage","tp","version","isConnected","getDeviceId","invokeQRScanner","tpCallbackFun","result","res","JSON","parse","data","qrResult","e","shareNewsToSNS","title","description","desc","url","previewImage","stringify","getAppInfo","device_id","getWalletList","type","getWallets","blockchain","blockchain_id","getCurrentWallet","rawTransaction","sign","back","fullScreen","setMenubar","close","importWallet","blockChainId","startChat","getNodeUrl","saveImage","rollHorizontal","popGestureRecognizerEnable","forwardNavigationGesturesEnable","eosTokenTransfer","from","to","amount","contract","precision","transactionId","pushEosAction","getEosBalance","account","symbol","getTableRows","getEosTableRows","getEosAccountInfo","getEosTransactionRecord","count","start","eosAuthSign","enuTokenTransfer","tokenName","pushEnuAction","getEnuBalance","getEnuTableRows","getEnuAccountInfo","getEnuTransactionRecord","pushMoacTransaction","moacTokenTransfer","gasLimit","decimal","sendMoacTransaction","sendEthTransaction","signMoacTransaction","signEthTransaction","signCosmosTransaction","cosmosArbitrarySignature","pb","address","signJingtumTransaction","signOkexchainTransaction","tx","signatures","es","forEach","item","signature","pub_key","getCurrentBalance","btcTokenTransfer","usdtTokenTransfer","getUsdtAddress","getWallet","walletTypes","switch","addDAppToDiscover","TRUE","valuePromise","FALSE","NULL","UNDEFINED","ZERO","EMPTYSTRING","p","_0","bind","iterableToArray","iterable","x","all","arr","remaining","val","race","values","onRejected","rawAsap","freeTasks","pendingErrors","requestErrorThrow","makeRequestCallFromTimer","throwFirstError","shift","task","rawTask","RawTask","error","onerror","done","onFulfilled","self","setTimeout","queue","requestFlush","capacity","flush","currentIndex","scan","newLength","scope","global","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","makeRequestCallFromMutationObserver","toggle","observer","node","document","createTextNode","observe","characterData","timeoutHandle","handleTimer","intervalHandle","setInterval","clearTimeout","clearInterval","noop","LAST_ERROR","IS_ERROR","getThen","obj","tryCallOne","a","tryCallTwo","b","TypeError","_U","_X","doResolve","safeThen","constructor","handle","Handler","deferred","_Y","handleResolved","cb","ret","promise","newValue","finale","_Z","reason"],"mappings":"kHAEA,IAAIA,EAAU,EAAQ,QAEtBC,EAAOC,QAAUF,EACjBA,EAAQG,kBAAoB,WAC1BH,EAAQI,UAAUC,UAAY,WAC5B,OAA0B,GAAnBC,KAAKC,YAGdP,EAAQI,UAAUI,YAAc,WAC9B,OAA0B,GAAnBF,KAAKC,YAGdP,EAAQI,UAAUK,WAAa,WAC7B,OAA0B,GAAnBH,KAAKC,YAGdP,EAAQI,UAAUM,SAAW,WAC3B,GAAgB,IAAZJ,KAAKK,GACP,OAAOL,KAAKM,GAAGF,WAGjB,IAAKJ,KAAKE,cACR,MAAM,IAAIK,MAAM,iDAGlB,OAAOP,KAAKM,IAGdZ,EAAQI,UAAUU,UAAY,WAC5B,GAAgB,IAAZR,KAAKK,GACP,OAAOL,KAAKM,GAAGE,YAGjB,IAAKR,KAAKG,aACR,MAAM,IAAII,MAAM,4DAGlB,OAAOP,KAAKM,IAGdZ,EAAQI,UAAUG,SAAW,WAC3B,OAAgB,IAAZD,KAAKK,GACAL,KAAKM,GAAGL,YAEA,IAAbD,KAAKK,KAA0B,IAAbL,KAAKK,GAClB,EAGFL,KAAKK,KAIhBX,EAAQe,mBAAqB,WAC3Bf,EAAQI,UAAUC,eAAYW,EAC9BhB,EAAQI,UAAUI,iBAAcQ,EAChChB,EAAQI,UAAUK,gBAAaO,EAC/BhB,EAAQI,UAAUM,cAAWM,EAC7BhB,EAAQI,UAAUU,eAAYE,EAC9BhB,EAAQI,UAAUG,cAAWS,I,oCCvD/B,IAAIhB,EAAU,EAAQ,QAClBiB,EAAO,EAAQ,QAEnBhB,EAAOC,QAAUF,EAIjBA,EAAQkB,UAAY,SAAUC,EAAIC,GAChC,MAC2B,kBAAlBA,GAA8BA,IAAkBC,IAEhDC,EAAmBH,EAAIC,GAEvBG,EAAsBJ,IAIjC,IAAIK,EAAa,gEAKjB,SAASF,EAAmBH,EAAIC,GAE9B,IADA,IAAIK,EAAO,GACFC,EAAI,EAAGA,EAAIN,EAAeM,IACjCD,EAAKE,KAAK,IAAMD,GAElB,IAAIE,EAAO,CACT,oBAAsBH,EAAKI,KAAK,KAAO,MACvC,mBACA,yCACA,qBACA,CAAC,QAAQC,OAAOL,GAAMK,OAAO,CAACN,IAAaK,KAAK,KAChD,KACA,aACA,4DACA,iCACA,eACA,MACA,MACAA,KAAK,IACP,OAAOE,SAAS,CAAC,UAAW,MAAOH,EAA5BG,CAAkC/B,EAASmB,GAEpD,SAASI,EAAsBJ,GAG7B,IAFA,IAAIa,EAAWC,KAAKC,IAAIf,EAAGgB,OAAS,EAAG,GACnCV,EAAO,GACFC,EAAI,EAAGA,EAAIM,EAAUN,IAC5BD,EAAKE,KAAK,IAAMD,GAElB,IAAIE,EAAO,CACT,oBAAsBH,EAAKI,KAAK,KAAO,MACvC,mBACA,YACA,oCACA,0BAA4BG,EAAW,MACvC,0CACA,+CACA,0BACA,IACA,IACA,yCACA,YAAcR,EAAa,IAC3B,WACA,uBACAC,EAAKK,OAAO,CAAC,UAAUM,KAAI,SAAUC,EAAGC,GACtC,MACE,QAAU,EAAV,kBACmB,CAAC,QAAQR,OAAOL,EAAKc,MAAM,EAAGD,IAAQR,OAAO,MAAMD,KAAK,KAFtE,cAKNA,KAAK,IACR,WACA,wBACA,8BACA,IAEA,aACA,4DACA,iCACA,eACA,MACA,MACAA,KAAK,IAEP,OAAOE,SACL,CAAC,UAAW,MACZH,EAFKG,CAGL/B,EAASmB,GAGbnB,EAAQwC,QAAU,SAAUrB,GAC1B,OAAO,WACL,IAAIM,EAAOgB,MAAMrC,UAAUmC,MAAMG,KAAKC,WAClCC,EAC+B,oBAA1BnB,EAAKA,EAAKU,OAAS,GAAoBV,EAAKoB,MAAQ,KACzDC,EAAMxC,KACV,IACE,OAAOa,EAAG4B,MAAMzC,KAAMqC,WAAWH,QAAQI,EAAUE,GACnD,MAAOE,GACP,GAAiB,OAAbJ,GAAwC,oBAAZA,EAC9B,OAAO,IAAI5C,GAAQ,SAAUiD,EAASC,GACpCA,EAAOF,MAGT/B,GAAK,WACH2B,EAASF,KAAKI,EAAKE,SAO7BhD,EAAQI,UAAUoC,QAAU,SAAUI,EAAUE,GAC9C,GAAuB,mBAAZF,EAAwB,OAAOtC,KAE1CA,KAAK6C,MAAK,SAAUC,GAClBnC,GAAK,WACH2B,EAASF,KAAKI,EAAK,KAAMM,SAE1B,SAAUC,GACXpC,GAAK,WACH2B,EAASF,KAAKI,EAAKO,W,oCC5HzB,IAAIrD,EAAU,EAAQ,QAEtBC,EAAOC,QAAUF,EACjBA,EAAQI,UAAUkD,QAAU,SAAUC,GACpC,OAAOjD,KAAK6C,MAAK,SAAUC,GACzB,OAAOpD,EAAQiD,QAAQM,KAAKJ,MAAK,WAC/B,OAAOC,QAER,SAAUC,GACX,OAAOrD,EAAQiD,QAAQM,KAAKJ,MAAK,WAC/B,MAAME,U,qBCZZ,IAAIrD,EAAU,EAAQ,QAClBwD,EAAS,EAAQ,QAEjBC,EAAW,CACXC,IAAK,IACLC,QAAS,IACTC,KAAM,IACNC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,KAAM,IACNC,OAAQ,IACRC,QAAS,IACTC,KAAM,KACNC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,IAAK,KACLC,OAAQ,KACRC,KAAM,KACNC,UAAW,KACXC,OAAQ,KACRC,MAAO,KACPC,QAAS,KACTC,IAAK,KACLC,IAAK,KACLC,QAAS,KACTC,OAAQ,MAGRC,EAAoB,CACpB,EAAK,MACL,EAAK,UACL,EAAK,OACL,EAAK,MACL,EAAK,MACL,EAAK,MACL,EAAK,OACL,EAAK,SACL,EAAK,UACL,GAAM,OACN,GAAM,MACN,GAAM,MACN,GAAM,MACN,GAAM,SACN,GAAM,OACN,GAAM,YACN,GAAM,SACN,GAAM,QACN,GAAM,MACN,GAAM,MACN,GAAM,UACN,GAAM,UAGNC,EAAgB,SAAUC,GAC1B,IAAIC,EAAS,aAGb,OAFAD,GAAW,GACXA,EAAUA,EAAQE,QAAQD,EAAQ,IAAIE,cAC/B9B,EAAS2B,IAAYA,GAG5BI,EAAmB,WACnB,IAAIC,EAASC,SAAyB,IAAhBzD,KAAK0D,UAC3B,MAAO,gBAAiB,IAAIC,MAAOC,UAAYJ,GAI/CK,EAAiB,SAAUC,EAAYC,EAAQpD,GAC3CqD,OAAOC,iBACPD,OAAOC,gBAAgBC,YAAYJ,EAAYC,EAAQpD,GAGvDqD,OAAOG,QACPH,OAAOG,OAAOC,gBAAgBN,GAAYO,YAAY,CAClD1E,KAAM,CACF,OAAUoE,EACV,SAAYpD,MAMxB2D,EAAK,CACLC,QAAS,QACTC,YAAa,WACT,SAAUR,OAAOC,iBAAoBD,OAAOG,QAAUH,OAAOG,OAAOC,iBAAmBJ,OAAOG,OAAOC,gBAAgBK,cAEzHC,gBAAiB,WACb,OAAO,IAAI3G,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACjBI,EAAOH,EAAII,UAAY,GAC3BjE,EAAQgE,GACV,MAAOE,GACLjE,EAAOiE,KAIfrB,EAAe,kBAAmB,GAAIc,OAI9CQ,eAAgB,SAAUpB,GACtB,IAAIqB,EAAQrB,EAAOqB,OAAS,uBACxBC,EAActB,EAAOuB,MAAQ,GAC7BC,EAAMxB,EAAOwB,KAAO,iCACpBC,EAAezB,EAAOyB,cAAgB,GAGtCR,EAAO,CACPI,MAAOA,EACPC,YAAaA,EACbE,IAAKA,EACLC,aAAcA,GAGlB3B,EAAe,iBAAkBiB,KAAKW,UAAUT,GAAO,KAG3DU,WAAY,WACR,OAAO,IAAI3H,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAGfrB,EAAe,aAAc,GAAIc,OAIzCF,YAAa,WACT,OAAO,IAAI1G,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACjBC,EAAIc,YACJd,EAAIG,KAAOH,EAAIc,WAEnB3E,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,cAAe,GAAIc,OAM1CiB,cAAe,SAAUC,GAGrB,GAFAA,EAAO3C,EAAc2C,IAEhBA,EACD,MAAM,IAAIjH,MAAM,gBAGpB,IAAImF,EAAS,CACT8B,KAAMA,GAGV,OAAO,IAAI9H,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IAEI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAGfrB,EAAe,gBAAiBiB,KAAKW,UAAU1B,GAASY,OAIhEmB,WAAY,WACR,OAAO,IAAI/H,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GAErB,GAAIC,EAAIG,MAAQH,EAAIG,KAAK9E,OACrB,IAAK,IAAIT,EAAI,EAAGA,EAAIoF,EAAIG,KAAK9E,OAAQT,IACjCoF,EAAIG,KAAKvF,GAAGsG,WAAa9C,EAAkB4B,EAAIG,KAAKvF,GAAGuG,cAAgB,KAAOnB,EAAIG,KAAKvF,GAAGuG,cAIlGhF,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,aAAc,GAAIc,OAIzCsB,iBAAkB,WACd,OAAO,IAAIlI,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACjBC,EAAIqB,iBACJrB,EAAIG,KAAOH,EAAIqB,gBAGfrB,EAAIG,MAAQH,EAAIG,KAAKgB,gBACrBnB,EAAIG,KAAKe,WAAa9C,EAAkB4B,EAAIG,KAAKgB,cAAgB,KAAOnB,EAAIG,KAAKgB,eAGrFhF,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAGfrB,EAAe,mBAAoB,GAAIc,OAG/CwB,KAAM,SAAUpC,GAEZ,OAAO,IAAIhG,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,OAAQiB,KAAKW,UAAU1B,GAASY,OAGvDyB,KAAM,WACFvC,EAAe,OAAQ,GAAI,KAE/BwC,WAAY,SAAUtC,GAClBF,EAAe,aAAciB,KAAKW,UAAU1B,GAAS,KAEzDuC,WAAY,SAAUvC,GAClBF,EAAe,aAAciB,KAAKW,UAAU1B,GAAS,KAEzDwC,MAAO,WACH1C,EAAe,QAAS,GAAI,KAEhC2C,aAAc,SAAUX,GAGpB,GAFAA,EAAO3C,EAAc2C,IAEhBA,EACD,MAAM,IAAIjH,MAAM,gBAGpB,IAAImF,EAAS,CACT0C,aAAcZ,GAGlBhC,EAAe,eAAgBiB,KAAKW,UAAU1B,GAAS,KAE3D2C,UAAW,SAAU3C,GACbA,EAAOgC,aACPhC,EAAO0C,aAAevD,EAAca,EAAOgC,mBACpChC,EAAOgC,YAElBlC,EAAe,YAAaiB,KAAKW,UAAU1B,GAAS,KAExD4C,WAAY,SAAU5C,GAOlB,OALIA,EAAOgC,aACPhC,EAAO0C,aAAevD,EAAca,EAAOgC,mBACpChC,EAAOgC,YAGX,IAAIhI,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IAEI,IAAIwB,EAAMC,KAAKC,MAAMH,GAEjBC,EAAIG,MAAQH,EAAIG,KAAKyB,eACrB5B,EAAIkB,WAAa9C,EAAkB4B,EAAIG,KAAKyB,aAAe,KAAO5B,EAAIG,KAAKyB,cAG/EzF,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAGfrB,EAAe,aAAciB,KAAKW,UAAU1B,GAASY,OAO7DiC,UAAW,SAAU7C,GACjBF,EAAe,YAAaiB,KAAKW,UAAU1B,GAAS,KAExD8C,eAAgB,SAAU9C,GACtBF,EAAe,iBAAkBiB,KAAKW,UAAU1B,GAAS,KAE7D+C,2BAA4B,SAAU/C,GAClCF,EAAe,6BAA8BiB,KAAKW,UAAU1B,GAAS,KAEzEgD,gCAAiC,SAAUhD,GACvCF,EAAe,kCAAmCiB,KAAKW,UAAU1B,GAAS,KAG9EiD,iBAAkB,SAAUjD,GAExB,IAAKA,EAAOkD,OAASlD,EAAOmD,KAAOnD,EAAOoD,SAAWpD,EAAOqD,WAAarD,EAAOsD,UAC5E,MAAM,IAAIzI,MAAM,gFAKpB,OAFAmF,EAAOoD,OAAS,GAAKpD,EAAOoD,OAErB,IAAIpJ,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GAEjBC,EAAID,SAAWC,EAAIG,KAAKsC,gBACxBzC,EAAIG,KAAO,CACPsC,cAAezC,EAAIG,OAI3BhE,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,mBAAoBiB,KAAKW,UAAU1B,GAASY,OAGnE4C,cAAe,SAAUxD,GACrB,OAAO,IAAIhG,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACjBC,EAAID,SAAWC,EAAIG,KAAKsC,gBACxBzC,EAAIG,KAAO,CACPsC,cAAezC,EAAIG,OAG3BhE,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,gBAAiBiB,KAAKW,UAAU1B,GAASY,OAIhE6C,cAAe,SAAUzD,GAErB,IAAKA,EAAO0D,UAAY1D,EAAOqD,WAAarD,EAAO2D,OAC/C,MAAM,IAAI9I,MAAM,gEAGpB,OAAO,IAAIb,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,gBAAiBiB,KAAKW,UAAU1B,GAASY,OAIhEgD,aAAc,SAAU5D,GACpB,OAAO,IAAIhG,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,eAAgBiB,KAAKW,UAAU1B,GAASY,OAG/DiD,gBAAiB,SAAU7D,GACvB,OAAO,IAAIhG,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,kBAAmBiB,KAAKW,UAAU1B,GAASY,OAGlEkD,kBAAmB,SAAU9D,GACzB,IAAKA,EAAO0D,QACR,MAAM,IAAI7I,MAAM,0CAGpB,OAAO,IAAIb,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,oBAAqBiB,KAAKW,UAAU1B,GAASY,OAIpEmD,wBAAyB,SAAU/D,GAE/B,IAAKA,EAAO0D,QACR,MAAM,IAAI7I,MAAM,0CAMpB,OAHAmF,EAAOgE,MAAQhE,EAAOgE,OAAShE,EAAOgE,MAAQ,GAC9ChE,EAAOiE,MAAQjE,EAAOiE,OAASjE,EAAOiE,MAAQ,EAEvC,IAAIjK,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,0BAA2BiB,KAAKW,UAAU1B,GAASY,OAI1EsD,YAAa,SAAUlE,GACnB,OAAO,IAAIhG,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,cAAeiB,KAAKW,UAAU1B,GAASY,OAK9DuD,iBAAkB,SAAUnE,GAExB,IAAKA,EAAOkD,OAASlD,EAAOmD,KAAOnD,EAAOoD,SAAWpD,EAAOoE,YAAcpE,EAAOqD,WAAarD,EAAOsD,UACjG,MAAM,IAAIzI,MAAM,4FAKpB,OAFAmF,EAAOoD,OAAS,GAAKpD,EAAOoD,OAErB,IAAIpJ,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GAEjBC,EAAID,SAAWC,EAAIG,KAAKsC,gBACxBzC,EAAIG,KAAO,CACPsC,cAAezC,EAAIG,OAI3BhE,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAGfrB,EAAe,mBAAoBiB,KAAKW,UAAU1B,GAASY,OAKnEyD,cAAe,SAAUrE,GACrB,OAAO,IAAIhG,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACjBC,EAAID,SAAWC,EAAIG,KAAKsC,gBACxBzC,EAAIG,KAAO,CACPsC,cAAezC,EAAIG,OAG3BhE,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,gBAAiBiB,KAAKW,UAAU1B,GAASY,OAIhE0D,cAAe,SAAUtE,GAErB,IAAKA,EAAO0D,UAAY1D,EAAOqD,WAAarD,EAAO2D,OAC/C,MAAM,IAAI9I,MAAM,gEAGpB,OAAO,IAAIb,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAGfrB,EAAe,gBAAiBiB,KAAKW,UAAU1B,GAASY,OAKhE2D,gBAAiB,SAAUvE,GACvB,OAAO,IAAIhG,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,kBAAmBiB,KAAKW,UAAU1B,GAASY,OAGlE4D,kBAAmB,SAAUxE,GACzB,IAAKA,EAAO0D,QACR,MAAM,IAAI7I,MAAM,0CAGpB,OAAO,IAAIb,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAGfrB,EAAe,oBAAqBiB,KAAKW,UAAU1B,GAASY,OAGpE6D,wBAAyB,SAAUzE,GAE/B,IAAKA,EAAO0D,QACR,MAAM,IAAI7I,MAAM,0CAMpB,OAHAmF,EAAOgE,MAAQhE,EAAOgE,OAAShE,EAAOgE,MAAQ,GAC9ChE,EAAOiE,MAAQjE,EAAOiE,OAASjE,EAAOiE,MAAQ,EAEvC,IAAIjK,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,0BAA2BiB,KAAKW,UAAU1B,GAASY,OAK1E8D,oBAAqB,SAAU1E,GAC3B,OAAO,IAAIhG,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,sBAAuBiB,KAAKW,UAAU1B,GAASY,OAGtE+D,kBAAmB,SAAU3E,GAEzB,IAAKA,EAAOkD,OAASlD,EAAOmD,KAAOnD,EAAOoD,SAAWpD,EAAO4E,WAAa5E,EAAOoE,UAC5E,MAAM,IAAIvJ,MAAM,gFAGpB,GAAImF,EAAOqD,WAAarD,EAAO6E,QAC3B,MAAM,IAAIhK,MAAM,0CAGpB,OAAO,IAAIb,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAGfrB,EAAe,oBAAqBiB,KAAKW,UAAU1B,GAASY,OAMpEkE,oBAAqB,SAAU9E,GAC3B,OAAO,IAAIhG,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,sBAAuBiB,KAAKW,UAAU1B,GAASY,OAGtEmE,mBAAoB,SAAU/E,GAC1B,OAAO,IAAIhG,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,qBAAsBiB,KAAKW,UAAU1B,GAASY,OAGrEoE,oBAAqB,SAAUhF,GAC3B,OAAO,IAAIhG,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,sBAAuBiB,KAAKW,UAAU1B,GAASY,OAGtEqE,mBAAoB,SAAUjF,GAC1B,OAAO,IAAIhG,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,qBAAsBiB,KAAKW,UAAU1B,GAASY,OAGrEsE,sBAAuB,SAAUlF,GAC7B,OAAO,IAAIhG,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,wBAAyBiB,KAAKW,UAAU1B,GAASY,OAGxEuE,yBAA0B,SAAUC,EAAInE,GACpC,IAAIjB,EAAS,CACTqF,QAASD,EACTnE,KAAMA,GAEV,OAAO,IAAIjH,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,2BAA4BiB,KAAKW,UAAU1B,GAASY,OAG3E0E,uBAAwB,SAAUtF,GAC9B,OAAO,IAAIhG,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,yBAA0BiB,KAAKW,UAAU1B,GAASY,OAGzE2E,yBAA0B,SAAUC,EAAIH,GACpC,OAAO,IAAIrL,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GAGjBC,EAAID,QAAUC,EAAIG,MAAQH,EAAIG,KAAKwE,YACnCC,GAAGzE,KAAKwE,WAAWE,SAAQ,SAAUC,GACjCA,EAAKC,UAAYD,EAAKC,WAAarI,EAAO0F,KAAK0C,EAAKC,WACpDD,EAAKE,QAAQ1I,MAAQwI,EAAKE,QAAQ1I,OAASI,EAAO0F,KAAK0C,EAAKE,QAAQ1I,UAI5EH,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIf,IAAInB,EAAS,CACTwF,GAAIA,EACJtC,KAAMmC,GAGVvF,EAAe,2BAA4BiB,KAAKW,UAAU1B,GAASY,OAG3EmF,kBAAmB,WACf,OAAO,IAAI/L,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAIfrB,EAAe,oBAAqB,GAAIc,OAGhDoF,iBAAkB,SAAUhG,GACxB,IAAKA,EAAOkD,OAASlD,EAAOmD,KAAOnD,EAAOoD,OACtC,MAAM,IAAIvI,MAAM,uDAGpB,OAAO,IAAIb,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAGfrB,EAAe,mBAAoBiB,KAAKW,UAAU1B,GAASY,OAKnEqF,kBAAmB,SAAUjG,GACzB,IAAKA,EAAOkD,OAASlD,EAAOmD,KAAOnD,EAAOoD,OACtC,MAAM,IAAIvI,MAAM,uDAGpB,OAAO,IAAIb,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAGfrB,EAAe,oBAAqBiB,KAAKW,UAAU1B,GAASY,OAKpEsF,eAAgB,WACZ,OAAO,IAAIlM,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GACrB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAGfrB,EAAe,iBAAkB,GAAIc,OAK7CuF,UAAW,SAAUnG,GAejB,OAdIA,EAAOoG,aAAepG,EAAOoG,YAAYjK,OACzC6D,EAAOoG,YAAcpG,EAAOoG,YAAYhK,KAAI,SAAUwJ,GAClD,OAAOnI,EAASmI,EAAKrG,gBAAkBqG,KAI3C5F,EAAOoG,YAAc,QAIrBpL,IAAcgF,EAAOqG,SACrBrG,EAAOqG,QAAS,GAGb,IAAIrM,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GAEjBC,EAAIG,MAAQH,EAAIG,KAAKgB,gBACrBnB,EAAIG,KAAKe,WAAa9C,EAAkB4B,EAAIG,KAAKgB,cAAgB,KAAOnB,EAAIG,KAAKgB,eAGrFhF,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAGfrB,EAAe,YAAaiB,KAAKW,UAAU1B,GAASY,OAG5D0F,kBAAmB,SAAUtG,GACzB,OAAO,IAAIhG,GAAQ,SAAUiD,EAASC,GAClC,IAAI0D,EAAgBpB,IAEpBS,OAAOW,GAAiB,SAAUC,GAC9BA,EAASA,EAAOvB,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACpD,IACI,IAAIwB,EAAMC,KAAKC,MAAMH,GAErB5D,EAAQ6D,GACV,MAAOK,GACLjE,EAAOiE,KAGfrB,EAAe,oBAAqBiB,KAAKW,UAAU1B,GAASY,QAMxE3G,EAAOC,QAAUqG,G,oCCz9BjB,IAAIvG,EAAU,EAAQ,QAEtBC,EAAOC,QAAUF,EAIjB,IAAIuM,EAAOC,GAAa,GACpBC,EAAQD,GAAa,GACrBE,EAAOF,EAAa,MACpBG,EAAYH,OAAaxL,GACzB4L,EAAOJ,EAAa,GACpBK,EAAcL,EAAa,IAE/B,SAASA,EAAapJ,GACpB,IAAI0J,EAAI,IAAI9M,EAAQA,EAAQ+M,IAG5B,OAFAD,EAAEnM,GAAK,EACPmM,EAAElM,GAAKwC,EACA0J,EAET9M,EAAQiD,QAAU,SAAUG,GAC1B,GAAIA,aAAiBpD,EAAS,OAAOoD,EAErC,GAAc,OAAVA,EAAgB,OAAOsJ,EAC3B,QAAc1L,IAAVoC,EAAqB,OAAOuJ,EAChC,IAAc,IAAVvJ,EAAgB,OAAOmJ,EAC3B,IAAc,IAAVnJ,EAAiB,OAAOqJ,EAC5B,GAAc,IAAVrJ,EAAa,OAAOwJ,EACxB,GAAc,KAAVxJ,EAAc,OAAOyJ,EAEzB,GAAqB,kBAAVzJ,GAAuC,oBAAVA,EACtC,IACE,IAAID,EAAOC,EAAMD,KACjB,GAAoB,oBAATA,EACT,OAAO,IAAInD,EAAQmD,EAAK6J,KAAK5J,IAE/B,MAAOJ,GACP,OAAO,IAAIhD,GAAQ,SAAUiD,EAASC,GACpCA,EAAOF,MAIb,OAAOwJ,EAAapJ,IAGtB,IAAI6J,EAAkB,SAAUC,GAC9B,MAA0B,oBAAfzK,MAAMyG,MAEf+D,EAAkBxK,MAAMyG,KACjBzG,MAAMyG,KAAKgE,KAIpBD,EAAkB,SAAUE,GAAK,OAAO1K,MAAMrC,UAAUmC,MAAMG,KAAKyK,IAC5D1K,MAAMrC,UAAUmC,MAAMG,KAAKwK,KAGpClN,EAAQoN,IAAM,SAAUC,GACtB,IAAI5L,EAAOwL,EAAgBI,GAE3B,OAAO,IAAIrN,GAAQ,SAAUiD,EAASC,GACpC,GAAoB,IAAhBzB,EAAKU,OAAc,OAAOc,EAAQ,IACtC,IAAIqK,EAAY7L,EAAKU,OACrB,SAAS2E,EAAIpF,EAAG6L,GACd,GAAIA,IAAuB,kBAARA,GAAmC,oBAARA,GAAqB,CACjE,GAAIA,aAAevN,GAAWuN,EAAIpK,OAASnD,EAAQI,UAAU+C,KAAM,CACjE,MAAkB,IAAXoK,EAAI5M,GACT4M,EAAMA,EAAI3M,GAEZ,OAAe,IAAX2M,EAAI5M,GAAiBmG,EAAIpF,EAAG6L,EAAI3M,KACrB,IAAX2M,EAAI5M,IAAUuC,EAAOqK,EAAI3M,SAC7B2M,EAAIpK,MAAK,SAAUoK,GACjBzG,EAAIpF,EAAG6L,KACNrK,IAGH,IAAIC,EAAOoK,EAAIpK,KACf,GAAoB,oBAATA,EAAqB,CAC9B,IAAI2J,EAAI,IAAI9M,EAAQmD,EAAK6J,KAAKO,IAI9B,YAHAT,EAAE3J,MAAK,SAAUoK,GACfzG,EAAIpF,EAAG6L,KACNrK,IAKTzB,EAAKC,GAAK6L,EACU,MAAdD,GACJrK,EAAQxB,GAGZ,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAKU,OAAQT,IAC/BoF,EAAIpF,EAAGD,EAAKC,QAKlB1B,EAAQkD,OAAS,SAAUE,GACzB,OAAO,IAAIpD,GAAQ,SAAUiD,EAASC,GACpCA,EAAOE,OAIXpD,EAAQwN,KAAO,SAAUC,GACvB,OAAO,IAAIzN,GAAQ,SAAUiD,EAASC,GACpC+J,EAAgBQ,GAAQ9B,SAAQ,SAASvI,GACvCpD,EAAQiD,QAAQG,GAAOD,KAAKF,EAASC,UAO3ClD,EAAQI,UAAU,SAAW,SAAUsN,GACrC,OAAOpN,KAAK6C,KAAK,KAAMuK,K,oCClHzB,IAAIC,EAAU,EAAQ,QAElBC,EAAY,GAGZC,EAAgB,GAChBC,EAAoBH,EAAQI,yBAAyBC,GAEzD,SAASA,IACL,GAAIH,EAAc1L,OACd,MAAM0L,EAAcI,QAa5B,SAAShN,EAAKiN,GACV,IAAIC,EAEAA,EADAP,EAAUzL,OACAyL,EAAU/K,MAEV,IAAIuL,EAElBD,EAAQD,KAAOA,EACfP,EAAQQ,GAKZ,SAASC,IACL9N,KAAK4N,KAAO,KAfhBjO,EAAOC,QAAUe,EAoBjBmN,EAAQhO,UAAUsC,KAAO,WACrB,IACIpC,KAAK4N,KAAKxL,OACZ,MAAO2L,GACDpN,EAAKqN,QAILrN,EAAKqN,QAAQD,IAKbR,EAAclM,KAAK0M,GACnBP,KAEN,QACExN,KAAK4N,KAAO,KACZN,EAAUA,EAAUzL,QAAU7B,Q,oCC7DtC,IAAIN,EAAU,EAAQ,QAEtBC,EAAOC,QAAUF,EACjBA,EAAQI,UAAUmO,KAAO,SAAUC,EAAad,GAC9C,IAAIe,EAAO9L,UAAUR,OAAS7B,KAAK6C,KAAKJ,MAAMzC,KAAMqC,WAAarC,KACjEmO,EAAKtL,KAAK,MAAM,SAAUE,GACxBqL,YAAW,WACT,MAAMrL,IACL,Q,qCCVP,YAaA,SAASsK,EAAQO,GACRS,EAAMxM,SACPyM,KACW,GAGfD,EAAMA,EAAMxM,QAAU+L,EAP1BjO,EAAOC,QAAUyN,EAUjB,IAOIiB,EAPAD,EAAQ,GAWRrM,EAAQ,EAIRuM,EAAW,KAQf,SAASC,IACL,MAAOxM,EAAQqM,EAAMxM,OAAQ,CACzB,IAAI4M,EAAezM,EAUnB,GAPAA,GAAgB,EAChBqM,EAAMI,GAAcrM,OAMhBJ,EAAQuM,EAAU,CAGlB,IAAK,IAAIG,EAAO,EAAGC,EAAYN,EAAMxM,OAASG,EAAO0M,EAAOC,EAAWD,IACnEL,EAAMK,GAAQL,EAAMK,EAAO1M,GAE/BqM,EAAMxM,QAAUG,EAChBA,EAAQ,GAGhBqM,EAAMxM,OAAS,EACfG,EAAQ,GACG,EAaf,IAAI4M,EAA0B,qBAAXC,EAAyBA,EAASV,KACjDW,EAA0BF,EAAMG,kBAAoBH,EAAMI,uBAwD9D,SAASC,EAAoC3M,GACzC,IAAI4M,EAAS,EACTC,EAAW,IAAIL,EAAwBxM,GACvC8M,EAAOC,SAASC,eAAe,IAEnC,OADAH,EAASI,QAAQH,EAAM,CAACI,eAAe,IAChC,WACHN,GAAUA,EACVE,EAAKzI,KAAOuI,GA4CpB,SAASzB,EAAyBnL,GAC9B,OAAO,WAKH,IAAImN,EAAgBrB,WAAWsB,EAAa,GAIxCC,EAAiBC,YAAYF,EAAa,IAE9C,SAASA,IAGLG,aAAaJ,GACbK,cAAcH,GACdrN,MA9GRgM,EADmC,oBAA5BQ,EACQG,EAAoCT,GA8BpCf,EAAyBe,GAQ5CnB,EAAQiB,aAAeA,EAgFvBjB,EAAQI,yBAA2BA,I,wDCrNnC9N,EAAOC,QAAU,EAAQ,QACzB,EAAQ,QACR,EAAQ,QACR,EAAQ,QACR,EAAQ,QACR,EAAQ,S,kCCLRD,EAAOC,QAAU,EAAQ,S,qBCFzB,IAAIqG,EAAK,EAAQ,QAGK,qBAAXN,QAA+C,qBAAdA,OAAOM,KAC/CN,OAAOM,GAAKA,GAGhBtG,EAAOC,QAAUqG,G,kCCLjB,IAAItF,EAAO,EAAQ,QAEnB,SAASoP,KAmBT,IAAIC,EAAa,KACbC,EAAW,GACf,SAASC,EAAQC,GACf,IACE,OAAOA,EAAItN,KACX,MAAOH,GAEP,OADAsN,EAAatN,EACNuN,GAIX,SAASG,EAAWvP,EAAIwP,GACtB,IACE,OAAOxP,EAAGwP,GACV,MAAO3N,GAEP,OADAsN,EAAatN,EACNuN,GAGX,SAASK,EAAWzP,EAAIwP,EAAGE,GACzB,IACE1P,EAAGwP,EAAGE,GACN,MAAO7N,GAEP,OADAsN,EAAatN,EACNuN,GAMX,SAASvQ,EAAQmB,GACf,GAAoB,kBAATb,KACT,MAAM,IAAIwQ,UAAU,wCAEtB,GAAkB,oBAAP3P,EACT,MAAM,IAAI2P,UAAU,oDAEtBxQ,KAAKyQ,GAAK,EACVzQ,KAAKK,GAAK,EACVL,KAAKM,GAAK,KACVN,KAAK0Q,GAAK,KACN7P,IAAOkP,GACXY,EAAU9P,EAAIb,MAehB,SAAS4Q,EAASzC,EAAMD,EAAad,GACnC,OAAO,IAAIe,EAAK0C,aAAY,SAAUlO,EAASC,GAC7C,IAAI4D,EAAM,IAAI9G,EAAQqQ,GACtBvJ,EAAI3D,KAAKF,EAASC,GAClBkO,EAAO3C,EAAM,IAAI4C,EAAQ7C,EAAad,EAAY5G,OAGtD,SAASsK,EAAO3C,EAAM6C,GACpB,MAAmB,IAAZ7C,EAAK9N,GACV8N,EAAOA,EAAK7N,GAKd,GAHIZ,EAAQuR,IACVvR,EAAQuR,GAAG9C,GAEG,IAAZA,EAAK9N,GACP,OAAgB,IAAZ8N,EAAKsC,IACPtC,EAAKsC,GAAK,OACVtC,EAAKuC,GAAKM,IAGI,IAAZ7C,EAAKsC,IACPtC,EAAKsC,GAAK,OACVtC,EAAKuC,GAAK,CAACvC,EAAKuC,GAAIM,UAGtB7C,EAAKuC,GAAGrP,KAAK2P,GAGfE,EAAe/C,EAAM6C,GAGvB,SAASE,EAAe/C,EAAM6C,GAC5BrQ,GAAK,WACH,IAAIwQ,EAAiB,IAAZhD,EAAK9N,GAAW2Q,EAAS9C,YAAc8C,EAAS5D,WACzD,GAAW,OAAP+D,EAAJ,CAQA,IAAIC,EAAMhB,EAAWe,EAAIhD,EAAK7N,IAC1B8Q,IAAQnB,EACVrN,EAAOoO,EAASK,QAASrB,GAEzBrN,EAAQqO,EAASK,QAASD,QAXV,IAAZjD,EAAK9N,GACPsC,EAAQqO,EAASK,QAASlD,EAAK7N,IAE/BsC,EAAOoO,EAASK,QAASlD,EAAK7N,OAYtC,SAASqC,EAAQwL,EAAMmD,GAErB,GAAIA,IAAanD,EACf,OAAOvL,EACLuL,EACA,IAAIqC,UAAU,8CAGlB,GACEc,IACqB,kBAAbA,GAA6C,oBAAbA,GACxC,CACA,IAAIzO,EAAOqN,EAAQoB,GACnB,GAAIzO,IAASoN,EACX,OAAOrN,EAAOuL,EAAM6B,GAEtB,GACEnN,IAASsL,EAAKtL,MACdyO,aAAoB5R,EAKpB,OAHAyO,EAAK9N,GAAK,EACV8N,EAAK7N,GAAKgR,OACVC,EAAOpD,GAEF,GAAoB,oBAATtL,EAEhB,YADA8N,EAAU9N,EAAK6J,KAAK4E,GAAWnD,GAInCA,EAAK9N,GAAK,EACV8N,EAAK7N,GAAKgR,EACVC,EAAOpD,GAGT,SAASvL,EAAOuL,EAAMmD,GACpBnD,EAAK9N,GAAK,EACV8N,EAAK7N,GAAKgR,EACN5R,EAAQ8R,IACV9R,EAAQ8R,GAAGrD,EAAMmD,GAEnBC,EAAOpD,GAET,SAASoD,EAAOpD,GAKd,GAJgB,IAAZA,EAAKsC,KACPK,EAAO3C,EAAMA,EAAKuC,IAClBvC,EAAKuC,GAAK,MAEI,IAAZvC,EAAKsC,GAAU,CACjB,IAAK,IAAIrP,EAAI,EAAGA,EAAI+M,EAAKuC,GAAG7O,OAAQT,IAClC0P,EAAO3C,EAAMA,EAAKuC,GAAGtP,IAEvB+M,EAAKuC,GAAK,MAId,SAASK,EAAQ7C,EAAad,EAAYiE,GACxCrR,KAAKkO,YAAqC,oBAAhBA,EAA6BA,EAAc,KACrElO,KAAKoN,WAAmC,oBAAfA,EAA4BA,EAAa,KAClEpN,KAAKqR,QAAUA,EASjB,SAASV,EAAU9P,EAAIwQ,GACrB,IAAIpD,GAAO,EACPzH,EAAM8J,EAAWzP,GAAI,SAAUiC,GAC7BmL,IACJA,GAAO,EACPtL,EAAQ0O,EAASvO,OAChB,SAAU2O,GACPxD,IACJA,GAAO,EACPrL,EAAOyO,EAASI,OAEbxD,GAAQzH,IAAQyJ,IACnBhC,GAAO,EACPrL,EAAOyO,EAASrB,IA/JpBrQ,EAAOC,QAAUF,EAgBjBA,EAAQuR,GAAK,KACbvR,EAAQ8R,GAAK,KACb9R,EAAQ+M,GAAKsD,EAEbrQ,EAAQI,UAAU+C,KAAO,SAASqL,EAAad,GAC7C,GAAIpN,KAAK6Q,cAAgBnR,EACvB,OAAOkR,EAAS5Q,KAAMkO,EAAad,GAErC,IAAI5G,EAAM,IAAI9G,EAAQqQ,GAEtB,OADAe,EAAO9Q,KAAM,IAAI+Q,EAAQ7C,EAAad,EAAY5G,IAC3CA","file":"js/chunk-1d836ac8.74a69f02.js","sourcesContent":["'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.enableSynchronous = function () {\n  Promise.prototype.isPending = function() {\n    return this.getState() == 0;\n  };\n\n  Promise.prototype.isFulfilled = function() {\n    return this.getState() == 1;\n  };\n\n  Promise.prototype.isRejected = function() {\n    return this.getState() == 2;\n  };\n\n  Promise.prototype.getValue = function () {\n    if (this._V === 3) {\n      return this._W.getValue();\n    }\n\n    if (!this.isFulfilled()) {\n      throw new Error('Cannot get a value of an unfulfilled promise.');\n    }\n\n    return this._W;\n  };\n\n  Promise.prototype.getReason = function () {\n    if (this._V === 3) {\n      return this._W.getReason();\n    }\n\n    if (!this.isRejected()) {\n      throw new Error('Cannot get a rejection reason of a non-rejected promise.');\n    }\n\n    return this._W;\n  };\n\n  Promise.prototype.getState = function () {\n    if (this._V === 3) {\n      return this._W.getState();\n    }\n    if (this._V === -1 || this._V === -2) {\n      return 0;\n    }\n\n    return this._V;\n  };\n};\n\nPromise.disableSynchronous = function() {\n  Promise.prototype.isPending = undefined;\n  Promise.prototype.isFulfilled = undefined;\n  Promise.prototype.isRejected = undefined;\n  Promise.prototype.getValue = undefined;\n  Promise.prototype.getReason = undefined;\n  Promise.prototype.getState = undefined;\n};\n","'use strict';\n\n// This file contains then/promise specific extensions that are only useful\n// for node.js interop\n\nvar Promise = require('./core.js');\nvar asap = require('asap');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nPromise.denodeify = function (fn, argumentCount) {\n  if (\n    typeof argumentCount === 'number' && argumentCount !== Infinity\n  ) {\n    return denodeifyWithCount(fn, argumentCount);\n  } else {\n    return denodeifyWithoutCount(fn);\n  }\n};\n\nvar callbackFn = (\n  'function (err, res) {' +\n  'if (err) { rj(err); } else { rs(res); }' +\n  '}'\n);\nfunction denodeifyWithCount(fn, argumentCount) {\n  var args = [];\n  for (var i = 0; i < argumentCount; i++) {\n    args.push('a' + i);\n  }\n  var body = [\n    'return function (' + args.join(',') + ') {',\n    'var self = this;',\n    'return new Promise(function (rs, rj) {',\n    'var res = fn.call(',\n    ['self'].concat(args).concat([callbackFn]).join(','),\n    ');',\n    'if (res &&',\n    '(typeof res === \"object\" || typeof res === \"function\") &&',\n    'typeof res.then === \"function\"',\n    ') {rs(res);}',\n    '});',\n    '};'\n  ].join('');\n  return Function(['Promise', 'fn'], body)(Promise, fn);\n}\nfunction denodeifyWithoutCount(fn) {\n  var fnLength = Math.max(fn.length - 1, 3);\n  var args = [];\n  for (var i = 0; i < fnLength; i++) {\n    args.push('a' + i);\n  }\n  var body = [\n    'return function (' + args.join(',') + ') {',\n    'var self = this;',\n    'var args;',\n    'var argLength = arguments.length;',\n    'if (arguments.length > ' + fnLength + ') {',\n    'args = new Array(arguments.length + 1);',\n    'for (var i = 0; i < arguments.length; i++) {',\n    'args[i] = arguments[i];',\n    '}',\n    '}',\n    'return new Promise(function (rs, rj) {',\n    'var cb = ' + callbackFn + ';',\n    'var res;',\n    'switch (argLength) {',\n    args.concat(['extra']).map(function (_, index) {\n      return (\n        'case ' + (index) + ':' +\n        'res = fn.call(' + ['self'].concat(args.slice(0, index)).concat('cb').join(',') + ');' +\n        'break;'\n      );\n    }).join(''),\n    'default:',\n    'args[argLength] = cb;',\n    'res = fn.apply(self, args);',\n    '}',\n    \n    'if (res &&',\n    '(typeof res === \"object\" || typeof res === \"function\") &&',\n    'typeof res.then === \"function\"',\n    ') {rs(res);}',\n    '});',\n    '};'\n  ].join('');\n\n  return Function(\n    ['Promise', 'fn'],\n    body\n  )(Promise, fn);\n}\n\nPromise.nodeify = function (fn) {\n  return function () {\n    var args = Array.prototype.slice.call(arguments);\n    var callback =\n      typeof args[args.length - 1] === 'function' ? args.pop() : null;\n    var ctx = this;\n    try {\n      return fn.apply(this, arguments).nodeify(callback, ctx);\n    } catch (ex) {\n      if (callback === null || typeof callback == 'undefined') {\n        return new Promise(function (resolve, reject) {\n          reject(ex);\n        });\n      } else {\n        asap(function () {\n          callback.call(ctx, ex);\n        })\n      }\n    }\n  }\n};\n\nPromise.prototype.nodeify = function (callback, ctx) {\n  if (typeof callback != 'function') return this;\n\n  this.then(function (value) {\n    asap(function () {\n      callback.call(ctx, null, value);\n    });\n  }, function (err) {\n    asap(function () {\n      callback.call(ctx, err);\n    });\n  });\n};\n","'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.prototype.finally = function (f) {\n  return this.then(function (value) {\n    return Promise.resolve(f()).then(function () {\n      return value;\n    });\n  }, function (err) {\n    return Promise.resolve(f()).then(function () {\n      throw err;\n    });\n  });\n};\n","var Promise = require('promise');\nvar Buffer = require('buffer');\n\nvar TYPE_MAP = {\n    eth: '1',\n    jingtum: '2',\n    moac: '3',\n    eos: '4',\n    enu: '5',\n    bos: '6',\n    iost: '7',\n    cosmos: '8',\n    binance: '9',\n    tron: '10',\n    trx: '10',\n    btc: '11',\n    bsc: '12',\n    dot: '13',\n    kusama: '14',\n    heco: '15',\n    okexchain: '16',\n    oktest: '17',\n    matic: '18',\n    polygon: '18',\n    hsc: '19',\n    oec: '20',\n    subgame: '21',\n    klaytn: '22'\n};\n\nvar BLOCKCHAIN_ID_MAP = {\n    '1': 'eth',\n    '2': 'jingtum',\n    '3': 'moac',\n    '4': 'eos',\n    '5': 'enu',\n    '6': 'bos',\n    '7': 'iost',\n    '8': 'cosmos',\n    '9': 'binance',\n    '10': 'tron',\n    '11': 'btc',\n    '12': 'bsc',\n    '13': 'dot',\n    '14': 'kusama',\n    '15': 'heco',\n    '16': 'okexchain',\n    '17': 'oktest',\n    '18': 'matic',\n    '19': 'hsc',\n    '20': 'oec',\n    '21': 'subgame',\n    '22': 'klaytn'\n}\n\nvar _getTypeByStr = function (typeStr) {\n    var reTrim = /^\\s+|\\s+$/g;\n    typeStr += '';\n    typeStr = typeStr.replace(reTrim, '').toLowerCase();\n    return TYPE_MAP[typeStr] || typeStr;\n}\n\nvar _getCallbackName = function () {\n    var ramdom = parseInt(Math.random() * 100000);\n    return 'tp_callback_' + new Date().getTime() + ramdom;\n}\n\n\nvar _sendTpRequest = function (methodName, params, callback) {\n    if (window.TPJSBrigeClient) {\n        window.TPJSBrigeClient.callMessage(methodName, params, callback);\n    }\n    // ios\n    if (window.webkit) {\n        window.webkit.messageHandlers[methodName].postMessage({\n            body: {\n                'params': params,\n                'callback': callback\n            }\n        });\n    }\n}\n\nvar tp = {\n    version: '3.7.2',\n    isConnected: function () {\n        return !!(window.TPJSBrigeClient || (window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.getDeviceId));\n    },\n    invokeQRScanner: function () {\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    var data = res.qrResult || '';\n                    resolve(data);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('invokeQRScanner', '', tpCallbackFun);\n\n        });\n    },\n    shareNewsToSNS: function (params) {\n        var title = params.title || 'TokenPocket 你的通用数字钱包';\n        var description = params.desc || '';\n        var url = params.url || 'https://www.mytokenpocket.vip/';\n        var previewImage = params.previewImage || '';\n\n\n        var data = {\n            title: title,\n            description: description,\n            url: url,\n            previewImage: previewImage\n        };\n\n        _sendTpRequest('shareNewsToSNS', JSON.stringify(data), '');\n\n    },\n    getAppInfo: function () {\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            _sendTpRequest('getAppInfo', '', tpCallbackFun);\n\n        });\n    },\n    getDeviceId: function () {\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    if (res.device_id) {\n                        res.data = res.device_id;\n                    }\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('getDeviceId', '', tpCallbackFun);\n\n        });\n\n    },\n    // Deprecated\n    getWalletList: function (type) {\n        type = _getTypeByStr(type);\n\n        if (!type) {\n            throw new Error('type invalid');\n        }\n\n        var params = {\n            type: type\n        };\n\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            _sendTpRequest('getWalletList', JSON.stringify(params), tpCallbackFun);\n\n        });\n    },\n    getWallets: function () {\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n\n                    if (res.data && res.data.length) {\n                        for (var i = 0; i < res.data.length; i++) {\n                            res.data[i].blockchain = BLOCKCHAIN_ID_MAP[res.data[i].blockchain_id + ''] || res.data[i].blockchain_id;\n                        }\n                    }\n\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('getWallets', '', tpCallbackFun);\n\n        });\n    },\n    getCurrentWallet: function () {\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n            // callback\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    if (res.rawTransaction) {\n                        res.data = res.rawTransaction;\n                    }\n\n                    if (res.data && res.data.blockchain_id) {\n                        res.data.blockchain = BLOCKCHAIN_ID_MAP[res.data.blockchain_id + ''] || res.data.blockchain_id;\n                    }\n\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            _sendTpRequest('getCurrentWallet', '', tpCallbackFun);\n        });\n    },\n    sign: function (params) {\n\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('sign', JSON.stringify(params), tpCallbackFun);\n        });\n    },\n    back: function () {\n        _sendTpRequest('back', '', '');\n    },\n    fullScreen: function (params) {\n        _sendTpRequest('fullScreen', JSON.stringify(params), '');\n    },\n    setMenubar: function (params) {\n        _sendTpRequest('setMenubar', JSON.stringify(params), '');\n    },\n    close: function () {\n        _sendTpRequest('close', '', '');\n    },\n    importWallet: function (type) {\n        type = _getTypeByStr(type);\n\n        if (!type) {\n            throw new Error('type invalid');\n        }\n\n        var params = {\n            blockChainId: type\n        };\n\n        _sendTpRequest('importWallet', JSON.stringify(params), '');\n    },\n    startChat: function (params) {\n        if (params.blockchain) {\n            params.blockChainId = _getTypeByStr(params.blockchain);\n            delete params.blockchain;\n        }\n        _sendTpRequest('startChat', JSON.stringify(params), '');\n    },\n    getNodeUrl: function (params) {\n\n        if (params.blockchain) {\n            params.blockChainId = _getTypeByStr(params.blockchain);\n            delete params.blockchain;\n        }\n\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n\n                    var res = JSON.parse(result);\n\n                    if (res.data && res.data.blockChainId) {\n                        res.blockchain = BLOCKCHAIN_ID_MAP[res.data.blockChainId + ''] || res.data.blockChainId;\n                    }\n\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            _sendTpRequest('getNodeUrl', JSON.stringify(params), tpCallbackFun);\n\n        });\n\n\n\n    },\n    saveImage: function (params) {\n        _sendTpRequest('saveImage', JSON.stringify(params), '');\n    },\n    rollHorizontal: function (params) {\n        _sendTpRequest('rollHorizontal', JSON.stringify(params), '');\n    },\n    popGestureRecognizerEnable: function (params) {\n        _sendTpRequest('popGestureRecognizerEnable', JSON.stringify(params), '');\n    },\n    forwardNavigationGesturesEnable: function (params) {\n        _sendTpRequest('forwardNavigationGesturesEnable', JSON.stringify(params), '');\n    },\n    // eos\n    eosTokenTransfer: function (params) {\n        // 必填项\n        if (!params.from || !params.to || !params.amount || !params.contract || !params.precision) {\n            throw new Error('missing params; \"from\", \"to\", \"amount\", \"contract\", \"precision\" is required ');\n        }\n\n        params.amount = '' + params.amount;\n\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n\n                    if (res.result && !res.data.transactionId) {\n                        res.data = {\n                            transactionId: res.data\n                        };\n                    }\n\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('eosTokenTransfer', JSON.stringify(params), tpCallbackFun);\n        })\n    },\n    pushEosAction: function (params) {\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    if (res.result && !res.data.transactionId) {\n                        res.data = {\n                            transactionId: res.data\n                        };\n                    }\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('pushEosAction', JSON.stringify(params), tpCallbackFun);\n\n        });\n    },\n    getEosBalance: function (params) {\n\n        if (!params.account || !params.contract || !params.symbol) {\n            throw new Error('missing params; \"account\", \"contract\", \"symbol\" is required ');\n        }\n\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('getEosBalance', JSON.stringify(params), tpCallbackFun);\n\n        });\n    },\n    getTableRows: function (params) {\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('getTableRows', JSON.stringify(params), tpCallbackFun);\n        });\n    },\n    getEosTableRows: function (params) {\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('getEosTableRows', JSON.stringify(params), tpCallbackFun);\n        });\n    },\n    getEosAccountInfo: function (params) {\n        if (!params.account) {\n            throw new Error('missing params; \"account\" is required ');\n        }\n\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('getEosAccountInfo', JSON.stringify(params), tpCallbackFun);\n\n        });\n    },\n    getEosTransactionRecord: function (params) {\n        // 必填项\n        if (!params.account) {\n            throw new Error('missing params; \"account\" is required ');\n        }\n\n        params.count = params.count ? +params.count : 10;\n        params.start = params.start ? +params.start : 0;\n\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('getEosTransactionRecord', JSON.stringify(params), tpCallbackFun);\n\n        })\n    },\n    eosAuthSign: function (params) {\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('eosAuthSign', JSON.stringify(params), tpCallbackFun);\n        });\n    },\n\n    // enu\n    enuTokenTransfer: function (params) {\n        // 必填项\n        if (!params.from || !params.to || !params.amount || !params.tokenName || !params.contract || !params.precision) {\n            throw new Error('missing params; \"from\", \"to\", \"amount\", \"tokenName\",\"contract\", \"precision\" is required ');\n        }\n\n        params.amount = '' + params.amount;\n\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n\n                    if (res.result && !res.data.transactionId) {\n                        res.data = {\n                            transactionId: res.data\n                        };\n                    }\n\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            _sendTpRequest('enuTokenTransfer', JSON.stringify(params), tpCallbackFun);\n\n\n        })\n    },\n    pushEnuAction: function (params) {\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    if (res.result && !res.data.transactionId) {\n                        res.data = {\n                            transactionId: res.data\n                        };\n                    }\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('pushEnuAction', JSON.stringify(params), tpCallbackFun);\n\n        });\n    },\n    getEnuBalance: function (params) {\n\n        if (!params.account || !params.contract || !params.symbol) {\n            throw new Error('missing params; \"account\", \"contract\", \"symbol\" is required ');\n        }\n\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            _sendTpRequest('getEnuBalance', JSON.stringify(params), tpCallbackFun);\n        });\n\n\n    },\n    getEnuTableRows: function (params) {\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('getEnuTableRows', JSON.stringify(params), tpCallbackFun);\n        });\n    },\n    getEnuAccountInfo: function (params) {\n        if (!params.account) {\n            throw new Error('missing params; \"account\" is required ');\n        }\n\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            _sendTpRequest('getEnuAccountInfo', JSON.stringify(params), tpCallbackFun);\n        });\n    },\n    getEnuTransactionRecord: function (params) {\n        // 必填项\n        if (!params.account) {\n            throw new Error('missing params; \"account\" is required ');\n        }\n\n        params.count = params.count ? +params.count : 10;\n        params.start = params.start ? +params.start : 0;\n\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('getEnuTransactionRecord', JSON.stringify(params), tpCallbackFun);\n\n        })\n    },\n    // eth moac\n    pushMoacTransaction: function (params) {\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('pushMoacTransaction', JSON.stringify(params), tpCallbackFun);\n        });\n    },\n    moacTokenTransfer: function (params) {\n\n        if (!params.from || !params.to || !params.amount || !params.gasLimit || !params.tokenName) {\n            throw new Error('missing params; \"from\", \"to\", \"amount\", \"gasLimit\", \"tokenName\" is required ');\n        }\n\n        if (params.contract && !params.decimal) {\n            throw new Error('missing params; \"decimal\" is required ');\n        }\n\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            _sendTpRequest('moacTokenTransfer', JSON.stringify(params), tpCallbackFun);\n\n\n        });\n\n    },\n    sendMoacTransaction: function (params) {\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('sendMoacTransaction', JSON.stringify(params), tpCallbackFun);\n        });\n    },\n    sendEthTransaction: function (params) {\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('sendEthTransaction', JSON.stringify(params), tpCallbackFun);\n        });\n    },\n    signMoacTransaction: function (params) {\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('signMoacTransaction', JSON.stringify(params), tpCallbackFun);\n        });\n    },\n    signEthTransaction: function (params) {\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('signEthTransaction', JSON.stringify(params), tpCallbackFun);\n        });\n    },\n    signCosmosTransaction: function (params) {\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('signCosmosTransaction', JSON.stringify(params), tpCallbackFun);\n        });\n    },\n    cosmosArbitrarySignature: function (pb, data) {\n        var params = {\n            address: pb,\n            data: data\n        }\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('cosmosArbitrarySignature', JSON.stringify(params), tpCallbackFun);\n        });\n    },\n    signJingtumTransaction: function (params) {\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('signJingtumTransaction', JSON.stringify(params), tpCallbackFun);\n        });\n    },\n    signOkexchainTransaction: function (tx, address) {\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n\n                    // turn array into buffer \n                    if (res.result && res.data && res.data.signatures) {\n                        es.data.signatures.forEach(function (item) {\n                            item.signature = item.signature && Buffer.from(item.signature);\n                            item.pub_key.value = item.pub_key.value && Buffer.from(item.pub_key.value);\n                        });\n                    }\n\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            var params = {\n                tx: tx,\n                from: address\n            }\n\n            _sendTpRequest('signOkexchainTransaction', JSON.stringify(params), tpCallbackFun);\n        });\n    },\n    getCurrentBalance: function () {\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n\n            _sendTpRequest('getCurrentBalance', '', tpCallbackFun);\n        });\n    },\n    btcTokenTransfer: function (params) {\n        if (!params.from || !params.to || !params.amount) {\n            throw new Error('missing params; \"from\", \"to\", \"amount\" is required ');\n        }\n\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            _sendTpRequest('btcTokenTransfer', JSON.stringify(params), tpCallbackFun);\n\n\n        });\n    },\n    usdtTokenTransfer: function (params) {\n        if (!params.from || !params.to || !params.amount) {\n            throw new Error('missing params; \"from\", \"to\", \"amount\" is required ');\n        }\n\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            _sendTpRequest('usdtTokenTransfer', JSON.stringify(params), tpCallbackFun);\n\n\n        });\n    },\n    getUsdtAddress: function () {\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            _sendTpRequest('getUsdtAddress', '', tpCallbackFun);\n\n\n        });\n    },\n    getWallet: function (params) {\n        if (params.walletTypes && params.walletTypes.length) {\n            params.walletTypes = params.walletTypes.map(function (item) {\n                return TYPE_MAP[item.toLowerCase()] || item;\n            })\n        }\n        else {\n            params.walletTypes = [];\n        }\n\n        // default\n        if (undefined === params.switch) {\n            params.switch = true\n        }\n\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n\n                    if (res.data && res.data.blockchain_id) {\n                        res.data.blockchain = BLOCKCHAIN_ID_MAP[res.data.blockchain_id + ''] || res.data.blockchain_id;\n                    }\n\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            _sendTpRequest('getWallet', JSON.stringify(params), tpCallbackFun);\n        });\n    },\n    addDAppToDiscover: function (params) {\n        return new Promise(function (resolve, reject) {\n            var tpCallbackFun = _getCallbackName();\n\n            window[tpCallbackFun] = function (result) {\n                result = result.replace(/\\r/ig, \"\").replace(/\\n/ig, \"\");\n                try {\n                    var res = JSON.parse(result);\n\n                    resolve(res);\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            _sendTpRequest('addDAppToDiscover', JSON.stringify(params), tpCallbackFun);\n        });\n    }\n};\n\n\nmodule.exports = tp;","'use strict';\n\n//This file contains the ES6 extensions to the core Promises/A+ API\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nvar TRUE = valuePromise(true);\nvar FALSE = valuePromise(false);\nvar NULL = valuePromise(null);\nvar UNDEFINED = valuePromise(undefined);\nvar ZERO = valuePromise(0);\nvar EMPTYSTRING = valuePromise('');\n\nfunction valuePromise(value) {\n  var p = new Promise(Promise._0);\n  p._V = 1;\n  p._W = value;\n  return p;\n}\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value;\n\n  if (value === null) return NULL;\n  if (value === undefined) return UNDEFINED;\n  if (value === true) return TRUE;\n  if (value === false) return FALSE;\n  if (value === 0) return ZERO;\n  if (value === '') return EMPTYSTRING;\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then;\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value));\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex);\n      });\n    }\n  }\n  return valuePromise(value);\n};\n\nvar iterableToArray = function (iterable) {\n  if (typeof Array.from === 'function') {\n    // ES2015+, iterables exist\n    iterableToArray = Array.from;\n    return Array.from(iterable);\n  }\n\n  // ES5, only arrays and array-likes exist\n  iterableToArray = function (x) { return Array.prototype.slice.call(x); };\n  return Array.prototype.slice.call(iterable);\n}\n\nPromise.all = function (arr) {\n  var args = iterableToArray(arr);\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        if (val instanceof Promise && val.then === Promise.prototype.then) {\n          while (val._V === 3) {\n            val = val._W;\n          }\n          if (val._V === 1) return res(i, val._W);\n          if (val._V === 2) reject(val._W);\n          val.then(function (val) {\n            res(i, val);\n          }, reject);\n          return;\n        } else {\n          var then = val.then;\n          if (typeof then === 'function') {\n            var p = new Promise(then.bind(val));\n            p.then(function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n      }\n      args[i] = val;\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) {\n    iterableToArray(values).forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    });\n  });\n};\n\n/* Prototype Methods */\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\n","\"use strict\";\n\n// rawAsap provides everything we need except exception management.\nvar rawAsap = require(\"./raw\");\n// RawTasks are recycled to reduce GC churn.\nvar freeTasks = [];\n// We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n    if (pendingErrors.length) {\n        throw pendingErrors.shift();\n    }\n}\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nmodule.exports = asap;\nfunction asap(task) {\n    var rawTask;\n    if (freeTasks.length) {\n        rawTask = freeTasks.pop();\n    } else {\n        rawTask = new RawTask();\n    }\n    rawTask.task = task;\n    rawAsap(rawTask);\n}\n\n// We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\nfunction RawTask() {\n    this.task = null;\n}\n\n// The sole purpose of wrapping the task is to catch the exception and recycle\n// the task object after its single use.\nRawTask.prototype.call = function () {\n    try {\n        this.task.call();\n    } catch (error) {\n        if (asap.onerror) {\n            // This hook exists purely for testing purposes.\n            // Its name will be periodically randomized to break any code that\n            // depends on its existence.\n            asap.onerror(error);\n        } else {\n            // In a web browser, exceptions are not fatal. However, to avoid\n            // slowing down the queue of pending tasks, we rethrow the error in a\n            // lower priority turn.\n            pendingErrors.push(error);\n            requestErrorThrow();\n        }\n    } finally {\n        this.task = null;\n        freeTasks[freeTasks.length] = this;\n    }\n};\n","'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.prototype.done = function (onFulfilled, onRejected) {\n  var self = arguments.length ? this.then.apply(this, arguments) : this;\n  self.then(null, function (err) {\n    setTimeout(function () {\n      throw err;\n    }, 0);\n  });\n};\n","\"use strict\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nvar scope = typeof global !== \"undefined\" ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.js’s\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n","'use strict';\n\nmodule.exports = require('./core.js');\nrequire('./done.js');\nrequire('./finally.js');\nrequire('./es6-extensions.js');\nrequire('./node-extensions.js');\nrequire('./synchronous.js');\n","'use strict';\n\nmodule.exports = require('./lib')\n","var tp = require('./src/tp');\n\n// dont override global variable\nif (typeof window !== 'undefined' && typeof window.tp === 'undefined') {\n    window.tp = tp;\n}\n\nmodule.exports = tp","'use strict';\n\nvar asap = require('asap/raw');\n\nfunction noop() {}\n\n// States:\n//\n// 0 - pending\n// 1 - fulfilled with _value\n// 2 - rejected with _value\n// 3 - adopted the state of another promise, _value\n//\n// once the state is no longer pending (0) it is immutable\n\n// All `_` prefixed properties will be reduced to `_{random number}`\n// at build time to obfuscate them and discourage their use.\n// We don't use symbols or Object.defineProperty to fully hide them\n// because the performance isn't good enough.\n\n\n// to avoid using try/catch inside critical functions, we\n// extract them to here.\nvar LAST_ERROR = null;\nvar IS_ERROR = {};\nfunction getThen(obj) {\n  try {\n    return obj.then;\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nfunction tryCallOne(fn, a) {\n  try {\n    return fn(a);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\nfunction tryCallTwo(fn, a, b) {\n  try {\n    fn(a, b);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nmodule.exports = Promise;\n\nfunction Promise(fn) {\n  if (typeof this !== 'object') {\n    throw new TypeError('Promises must be constructed via new');\n  }\n  if (typeof fn !== 'function') {\n    throw new TypeError('Promise constructor\\'s argument is not a function');\n  }\n  this._U = 0;\n  this._V = 0;\n  this._W = null;\n  this._X = null;\n  if (fn === noop) return;\n  doResolve(fn, this);\n}\nPromise._Y = null;\nPromise._Z = null;\nPromise._0 = noop;\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  if (this.constructor !== Promise) {\n    return safeThen(this, onFulfilled, onRejected);\n  }\n  var res = new Promise(noop);\n  handle(this, new Handler(onFulfilled, onRejected, res));\n  return res;\n};\n\nfunction safeThen(self, onFulfilled, onRejected) {\n  return new self.constructor(function (resolve, reject) {\n    var res = new Promise(noop);\n    res.then(resolve, reject);\n    handle(self, new Handler(onFulfilled, onRejected, res));\n  });\n}\nfunction handle(self, deferred) {\n  while (self._V === 3) {\n    self = self._W;\n  }\n  if (Promise._Y) {\n    Promise._Y(self);\n  }\n  if (self._V === 0) {\n    if (self._U === 0) {\n      self._U = 1;\n      self._X = deferred;\n      return;\n    }\n    if (self._U === 1) {\n      self._U = 2;\n      self._X = [self._X, deferred];\n      return;\n    }\n    self._X.push(deferred);\n    return;\n  }\n  handleResolved(self, deferred);\n}\n\nfunction handleResolved(self, deferred) {\n  asap(function() {\n    var cb = self._V === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      if (self._V === 1) {\n        resolve(deferred.promise, self._W);\n      } else {\n        reject(deferred.promise, self._W);\n      }\n      return;\n    }\n    var ret = tryCallOne(cb, self._W);\n    if (ret === IS_ERROR) {\n      reject(deferred.promise, LAST_ERROR);\n    } else {\n      resolve(deferred.promise, ret);\n    }\n  });\n}\nfunction resolve(self, newValue) {\n  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n  if (newValue === self) {\n    return reject(\n      self,\n      new TypeError('A promise cannot be resolved with itself.')\n    );\n  }\n  if (\n    newValue &&\n    (typeof newValue === 'object' || typeof newValue === 'function')\n  ) {\n    var then = getThen(newValue);\n    if (then === IS_ERROR) {\n      return reject(self, LAST_ERROR);\n    }\n    if (\n      then === self.then &&\n      newValue instanceof Promise\n    ) {\n      self._V = 3;\n      self._W = newValue;\n      finale(self);\n      return;\n    } else if (typeof then === 'function') {\n      doResolve(then.bind(newValue), self);\n      return;\n    }\n  }\n  self._V = 1;\n  self._W = newValue;\n  finale(self);\n}\n\nfunction reject(self, newValue) {\n  self._V = 2;\n  self._W = newValue;\n  if (Promise._Z) {\n    Promise._Z(self, newValue);\n  }\n  finale(self);\n}\nfunction finale(self) {\n  if (self._U === 1) {\n    handle(self, self._X);\n    self._X = null;\n  }\n  if (self._U === 2) {\n    for (var i = 0; i < self._X.length; i++) {\n      handle(self, self._X[i]);\n    }\n    self._X = null;\n  }\n}\n\nfunction Handler(onFulfilled, onRejected, promise){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, promise) {\n  var done = false;\n  var res = tryCallTwo(fn, function (value) {\n    if (done) return;\n    done = true;\n    resolve(promise, value);\n  }, function (reason) {\n    if (done) return;\n    done = true;\n    reject(promise, reason);\n  });\n  if (!done && res === IS_ERROR) {\n    done = true;\n    reject(promise, LAST_ERROR);\n  }\n}\n"],"sourceRoot":""}